"use strict";(self.webpackChunkagency=self.webpackChunkagency||[]).push([[413],{413:(e,a,t)=>{t.r(a),t.d(a,{default:()=>o});var s=t(43),c=t(154),n=t(475),r=t(579);const i=e=>{let{post:a}=e;const[t,i]=(0,s.useState)("");return(0,s.useEffect)((()=>{a.featured_media&&(async()=>{try{const e=await c.A.get("".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TAWKTO_SRC:"https://embed.tawk.to/65c234390ff6374032c9ef70/1hlv9o0ko"}.REACT_APP_API_ROOT,"/media/").concat(a.featured_media)),{data:t}=e;i(t.source_url)}catch(e){console.error("Error fetching featured media:",e)}})()}),[a.featured_media]),(0,r.jsx)("div",{className:"card-container",children:(0,r.jsxs)(n.N_,{to:"/blog/".concat(a.slug),className:"block",children:[t?(0,r.jsx)("img",{src:t,alt:a.title.rendered,className:"card-image"}):(0,r.jsx)("img",{src:"https://via.placeholder.com/400x400",alt:a.title.rendered,className:"card-image"}),(0,r.jsxs)("div",{className:"card-content",children:[(0,r.jsx)("div",{className:"card-title",children:a.title.rendered}),(0,r.jsx)("p",{className:"card-excerpt",children:a.excerpt.rendered})]})]})})},o=()=>{const[e,a]=(0,s.useState)([]),[t,n]=(0,s.useState)(1),[o,d]=(0,s.useState)(1),[l,_]=(0,s.useState)(!0);return(0,s.useEffect)((()=>{(async()=>{try{const e="".concat({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_TAWKTO_SRC:"https://embed.tawk.to/65c234390ff6374032c9ef70/1hlv9o0ko"}.REACT_APP_API_ROOT,"/posts?per_page=").concat(9,"&page=").concat(t),s=await c.A.get(e);console.log(s);const{data:n,headers:r}=s;d(Number(r["x-wp-totalpages"])),a(n),_(!1)}catch(e){console.error("Error fetching posts:",e)}})()}),[t]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("section",{className:"posts-section",children:(0,r.jsxs)("div",{className:"max-width-container text-center",children:[(0,r.jsx)("div",{className:"grid-container",children:l?(0,r.jsx)("div",{className:"loading-indicator"}):e.map((e=>(0,r.jsx)(i,{post:e},e.id)))}),e.length>0&&!l&&(0,r.jsxs)("div",{className:"pagination-container",children:[(0,r.jsx)("button",{className:"pagination-btn prev-btn",disabled:1===t,onClick:()=>n(t-1),children:"Previous"}),(0,r.jsxs)("span",{className:"pagination-info",children:[t," of ",o]}),(0,r.jsx)("button",{className:"pagination-btn next-btn",disabled:t===o,onClick:()=>n(t+1),children:"Next"})]})]})})})}}}]);
//# sourceMappingURL=413.e637bcd2.chunk.js.map