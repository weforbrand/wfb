"use strict";(self.webpackChunkagency=self.webpackChunkagency||[]).push([[413],{413:(e,a,s)=>{s.r(a),s.d(a,{default:()=>l});var t=s(43),c=s(154),n=s(475),r=s(579);const i=e=>{let{post:a}=e;const[s,i]=(0,t.useState)("");return(0,t.useEffect)((()=>{a.featured_media&&(async()=>{try{const e=await c.A.get("".concat("http://localhost/wp-headless/server/wp-json/wp/v2","/media/").concat(a.featured_media)),{data:s}=e;i(s.source_url)}catch(e){console.error("Error fetching featured media:",e)}})()}),[a.featured_media]),(0,r.jsx)("div",{className:"card-container",children:(0,r.jsxs)(n.N_,{to:"/blog/".concat(a.slug),className:"block",children:[s?(0,r.jsx)("img",{src:s,alt:a.title.rendered,className:"card-image"}):(0,r.jsx)("img",{src:"https://via.placeholder.com/400x400",alt:a.title.rendered,className:"card-image"}),(0,r.jsxs)("div",{className:"card-content",children:[(0,r.jsx)("div",{className:"card-title",children:a.title.rendered}),(0,r.jsx)("p",{className:"card-excerpt",children:a.excerpt.rendered})]})]})})},l=()=>{const[e,a]=(0,t.useState)([]),[s,n]=(0,t.useState)(1),[l,o]=(0,t.useState)(1),[d,p]=(0,t.useState)(!0);return(0,t.useEffect)((()=>{(async()=>{try{const e="".concat("http://localhost/wp-headless/server/wp-json/wp/v2","/posts?per_page=").concat(9,"&page=").concat(s),t=await c.A.get(e);console.log(t);const{data:n,headers:r}=t;o(Number(r["x-wp-totalpages"])),a(n),p(!1)}catch(e){console.error("Error fetching posts:",e)}})()}),[s]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("section",{className:"posts-section",children:(0,r.jsxs)("div",{className:"max-width-container text-center",children:[(0,r.jsx)("div",{className:"grid-container",children:d?(0,r.jsx)("div",{className:"loading-indicator"}):e.map((e=>(0,r.jsx)(i,{post:e},e.id)))}),e.length>0&&!d&&(0,r.jsxs)("div",{className:"pagination-container",children:[(0,r.jsx)("button",{className:"pagination-btn prev-btn",disabled:1===s,onClick:()=>n(s-1),children:"Previous"}),(0,r.jsxs)("span",{className:"pagination-info",children:[s," of ",l]}),(0,r.jsx)("button",{className:"pagination-btn next-btn",disabled:s===l,onClick:()=>n(s+1),children:"Next"})]})]})})})}}}]);
//# sourceMappingURL=413.46ab582a.chunk.js.map